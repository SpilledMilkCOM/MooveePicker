@model MoviePicker.WebApp.Interfaces.IMovieListModel

@foreach (var pick in Model.Picks)
{
	<div class="col-sm-3">
		<h5>@Model.ComparisonHeader</h5>
	</div>
	<div class="col-sm-4">
		<h5>Earnings: $@pick.TotalEarnings.ToString("N0")</h5>
	</div>
	<div class="col-sm-3">
		<h5>Cost (BUX): @pick.TotalCost</h5>
	</div>

	if (Model.ComparisonHeader == "Bonus ON")
	{
		<div class="col-sm-2">
			<a class="btn btn-info btn-xs"
			   @* Generate a unique ID so Twitter won't cache the image and share them to other tweets. *@
			   href="@string.Format("ShareBonusOnPicks?{0}&id={1}", Request.QueryString, Guid.NewGuid())"
			   data-toggle="tooltip"
			   data-placement="bottom"
			   title="Click to share your @Model.ComparisonHeader picks...">
				Share &nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-share" aria-hidden="true"></span>
			</a>
		</div>
	}
	else
	{
		<div class="col-sm-2">
			<a class="btn btn-info btn-xs"
			   @* Generate a unique ID so Twitter won't cache the image and share them to other tweets. *@
			   href="@string.Format("ShareBonusOffPicks?{0}&id={1}", Request.QueryString, Guid.NewGuid())"
			   data-toggle="tooltip"
			   data-placement="bottom"
			   title="Click to share your @Model.ComparisonHeader picks...">
				Share  &nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-share" aria-hidden="true"></span>
			</a>
		</div>
	}

	<div class="clearfix"></div>

	<div class="col-xs-12">
		<table class="table table-responsive">
			<tr>
				@foreach (var movie in pick.Movies.OrderByDescending(item => item.Cost))
				{
					@* This should override what's in the style (for now) *@
					var backgroundStyle = (movie.IsBestPerformer) ? "background-color: lightgreen;" : string.Empty;

					<td style="padding: 1px;">
						<div class="movie-card-mini" data-toggle="tooltip" data-placement="bottom"
							 title="@string.Format("{0} - ${1:N0}", movie.Name, movie.Earnings)"
							 style="@backgroundStyle">

							<img class="img-responsive" src="@movie.ImageUrl" alt="@movie.Name" />
						</div>
					</td>
				}
			</tr>
		</table>
	</div>

	<div class="clearfix"></div>
}